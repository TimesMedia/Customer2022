@model System.Data.DataTable

@{
    ViewBag.Title = "Index";
}

<h1 align="center">Customer Details</h1>
<table class="table table-bordered table-striped" id="myTable">
    
    <tr>
        <td>
            <input type="text" id='myInput' onkeyup='tablesearch()' placeholder="Search" />
        </td>
    </tr>

    <tr>
        <th>Name</th>
        <th>Mobile</th>
        <th>Address</th>
    </tr>
    @for (int i = 0; i < Model.Rows.Count; i++)
    {
        <tr>
            <td>@Model.Rows[i][1]</td>
            <td>@Model.Rows[i][2]</td>
            <td>@Model.Rows[i][3]</td>
            <td>
                <a href="@Url.Action("Create","Customer", new { @id = Model.Rows[i][1] })">Add</a>
                <a href="@Url.Action("Edit","Customer", new {@id=Model.Rows[i][0]})">Edit</a>
                <a href="@Url.Action("Delete","Customer", new {@id=Model.Rows[i][0]})">Delete</a>
            </td>
        </tr>
    }
</table>
<div>
    @Html.ActionLink("Back to List", "Index")
</div>
<script type="text/javascript">
    //var table = document.getElementById("myTable");
    //var rows = document.getElementsByTagName("tr");
    //for (i = 1; i < rows.length; i++) {
    //    var currentRow = table.rows[i];
    //    currentRow.onclick = function () {
    //        //console.log('It is working');
    //        Array.from(this.parentElement.children).forEach(function (el) {
    //            el.classList.remove('selected-row');
    //        });

    //        this.classList.Add('selected-row')
    //    }
    //}
    //const searchInput = document.getElementById('myTable');

    //searchInput.addEventListener('input', () => {
    //console.log('Event handler fired');
    //});

    //function tablesearch() {
    //    let input, filter, td, tr, table, txtvalue;
    //    console.log("is this working?");
    //    input = document.getElementById("myInput");
    //    filter = input.value.toUpperCase();
    //    table = document.getElementById("myTable");
    //    tr = table.getElementsByTagName("tr");

    //    for (let i = 0; i < tr.length; i++) {
    //        td = tr[i].getElementsByTagName("td")[0];
    //        if (td) {
    //            txtvalue = td.textContent || td.innerText;
    //            if (txtvalue.toUpperCase().indexOf(filter) > -1) {
    //                tr[i].style.display = "";
    //            }
    //            else {
    //                tr[i].style.display = "none";
    //            }
    //        }
    //    }
    //}
</script>




